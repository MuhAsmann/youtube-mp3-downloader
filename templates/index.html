<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube MP3 Downloader</title>
    <meta name="description" content="Download MP3 audio from YouTube videos quickly and easily">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z" />
                    </svg>
                </div>
                <h1>YouTube <span class="gradient-text">MP3</span> Downloader</h1>
            </div>
            <p class="subtitle">Download your favorite YouTube videos as high-quality MP3 audio files</p>
        </header>

        <!-- Main Card -->
        <main class="main-card">
            <!-- URL Input Section -->
            <div class="input-section">
                <div class="input-group">
                    <div class="input-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" />
                        </svg>
                    </div>
                    <input type="text" id="urlInput" class="url-input" placeholder="Paste YouTube URL here..."
                        autocomplete="off">
                    <button id="fetchBtn" class="fetch-btn">
                        <span class="btn-text">Fetch</span>
                        <span class="btn-loader"></span>
                    </button>
                </div>

                <!-- Quality Selector -->
                <div class="quality-section">
                    <label class="quality-label">Audio Quality:</label>
                    <div class="quality-options">
                        <label class="quality-option">
                            <input type="radio" name="quality" value="128">
                            <span class="quality-badge">128 kbps</span>
                        </label>
                        <label class="quality-option">
                            <input type="radio" name="quality" value="192">
                            <span class="quality-badge">192 kbps</span>
                        </label>
                        <label class="quality-option">
                            <input type="radio" name="quality" value="256">
                            <span class="quality-badge">256 kbps</span>
                        </label>
                        <label class="quality-option">
                            <input type="radio" name="quality" value="320" checked>
                            <span class="quality-badge">320 kbps</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Video Info Section (Hidden by default) -->
            <div id="videoInfo" class="video-info hidden">
                <div class="video-thumbnail">
                    <img id="thumbnail" src="" alt="Video Thumbnail">
                    <div class="duration-badge" id="duration"></div>
                </div>
                <div class="video-details">
                    <h2 id="videoTitle" class="video-title"></h2>
                    <div class="video-meta">
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                            </svg>
                            <span id="uploader"></span>
                        </div>
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" />
                            </svg>
                            <span id="views"></span>
                        </div>
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M2 21h4V9H2v12zm20-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L13 1 6.59 7.41C6.22 7.78 6 8.3 6 8.83V19c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1z" />
                            </svg>
                            <span id="likes"></span>
                        </div>
                    </div>
                    <div class="download-buttons">
                        <button id="downloadBtn" class="download-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z" />
                            </svg>
                            <span class="btn-text">Download MP3</span>
                            <span class="btn-loader"></span>
                        </button>
                        <button id="downloadVideoBtn" class="download-btn video-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z" />
                            </svg>
                            <span class="btn-text">Download Video</span>
                            <span class="btn-loader"></span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Progress Section (Hidden by default) -->
            <div id="progressSection" class="progress-section hidden">
                <div class="progress-header">
                    <span class="progress-title">Downloading...</span>
                    <span id="progressPercent" class="progress-percent">0%</span>
                </div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <p class="progress-text">Please wait while we convert your video to MP3...</p>
            </div>

            <!-- Success Section (Hidden by default) -->
            <div id="successSection" class="success-section hidden">
                <div class="success-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
                    </svg>
                </div>
                <h3>Download Complete!</h3>
                <p>Your MP3 file has been downloaded successfully.</p>
                <button id="newDownloadBtn" class="new-download-btn">Download Another</button>
            </div>

            <!-- Error Section (Hidden by default) -->
            <div id="errorSection" class="error-section hidden">
                <div class="error-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
                    </svg>
                </div>
                <h3 id="errorTitle">Error</h3>
                <p id="errorMessage"></p>
                <button id="tryAgainBtn" class="try-again-btn">Try Again</button>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Built with ❤️ using Flask & yt-dlp</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>

</html>